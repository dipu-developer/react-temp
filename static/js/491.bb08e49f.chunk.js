"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[491],{4491:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});a(5043);var l=a(2134),t=a(432),r=a(2933),c=a(2346),n=a(3516),i=a(899),o=a(579);const m=()=>{const e=(0,l.Zp)(),s=async()=>{try{const e=await(0,c.T)(),s={name:e.name||"",custom_uname:e["custom:uname"]||"",email:e.email||"",phone_number:e.phone_number||"",custom_cname:e["custom:cname"]||"",custom_location:e["custom:location"]||"",custom_city:e["custom:city"]||"",custom_pincode:e["custom:pincode"]||"",custom_country:e["custom:country"]||"",custom_state:e["custom:state"]||""};sessionStorage.setItem("userSession",JSON.stringify(s)),console.log("User session create successfully.")}catch(e){console.log("Error fetching or saving user attributes:",e)}};return(0,o.jsx)("div",{className:"authentication-bg authentication-bg-pattern",children:(0,o.jsx)("div",{className:"account-pages mt-5 mb-5",children:(0,o.jsx)("div",{className:"container",children:(0,o.jsx)("div",{className:"row justify-content-center",children:(0,o.jsxs)("div",{className:"col-md-8 col-lg-6 col-xl-4",children:[(0,o.jsx)("div",{className:"card bg-pattern",children:(0,o.jsxs)("div",{className:"card-body p-4",children:[(0,o.jsxs)("div",{className:"text-center w-75 m-auto",children:[(0,o.jsxs)("div",{className:"auth-brand",children:[(0,o.jsx)("a",{href:"/login",className:"logo logo-dark text-center",children:(0,o.jsx)("span",{className:"logo-lg",children:(0,o.jsx)("img",{src:"assets/images/logo.png",alt:"",height:"25"})})}),(0,o.jsx)("a",{href:"/login",className:"logo logo-light text-center",children:(0,o.jsx)("span",{className:"logo-lg",children:(0,o.jsx)("img",{src:"assets/images/logo-light.png",alt:"",height:"22"})})})]}),(0,o.jsx)("p",{className:"text-muted mb-4 mt-3",children:"Enter your email address and password ."})]}),(0,o.jsx)(n.l1,{initialValues:{email:"",password:"",submit:null},validationSchema:i.Ik().shape({email:i.Yj().email("Must be a valid email").max(255).required("Please enter email"),password:i.Yj().max(255).required("Please enter password")}),onSubmit:(a,l)=>{let{setErrors:c,setSubmitting:n}=l;(async(a,l,c)=>{try{console.log("Hello"),await(0,t.C)({global:!0});const l=a.email,c=a.password,{isSignedIn:n,nextStep:i}=await(0,r.J)({username:l,password:c});n?(await s(),alert("Success","You have successfully signed in!"),e("/device")):alert("Error","Sign in failed. Please check your credentials.")}catch(n){console.error("Login failed:",n),l({submit:n.message})}finally{c(!1)}})(a,c,n)},children:e=>{let{errors:s,handleBlur:a,handleChange:l,handleSubmit:t,isSubmitting:r,touched:c,values:n}=e;return(0,o.jsxs)("form",{noValidate:!0,onSubmit:t,children:[(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)("label",{for:"emailaddress",className:"form-label",children:"Email address"}),(0,o.jsx)("input",{className:"form-control",type:"email",onBlur:a,onChange:l,id:"emailaddress",name:"email",value:n.email,placeholder:"Enter your email"}),c.email&&s.email&&(0,o.jsx)("small",{className:"text-danger form-text",children:s.email})]}),(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)("label",{for:"password",className:"form-label",children:"Password"}),(0,o.jsx)("div",{className:"input-group input-group-merge",children:(0,o.jsx)("input",{type:"password",id:"password",name:"password",className:"form-control",onBlur:a,onChange:l,placeholder:"Enter your password",value:n.password})}),c.password&&s.password&&(0,o.jsx)("small",{className:"text-danger form-text",children:s.password})]}),s.submit&&(0,o.jsx)("div",{className:"text-center py-2",children:(0,o.jsx)("small",{className:"text-danger form-text",children:s.submit})}),(0,o.jsx)("div",{className:"text-center d-grid",children:(0,o.jsx)("button",{className:"btn btn-primary",type:"submit",disabled:r,children:"Log In"})})]})}})]})}),(0,o.jsx)("div",{className:"row mt-3",children:(0,o.jsxs)("div",{className:"col-12 text-center",children:[(0,o.jsx)("p",{children:(0,o.jsx)("a",{href:"/login",className:"text-black-50 ms-1",children:"Forgot your password?"})}),(0,o.jsxs)("p",{className:"text-black-50",children:["Don't have an account?"," ",(0,o.jsx)("a",{href:"/login",className:"text-black ms-1",children:(0,o.jsx)("b",{children:"Sign Up"})})]})]})})]})})})})})}}}]);
//# sourceMappingURL=491.bb08e49f.chunk.js.map